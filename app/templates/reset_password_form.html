{% extends "base_auth.html" %}

{% block title %}Zresetuj hasÅ‚o â€“ Wood Power CRM{% endblock %}

{% block content %}
<div class="auth-header">
    <h2>Ustaw nowe hasÅ‚o ğŸ”„</h2>
    <p>WprowadÅº nowe hasÅ‚o dla swojego konta</p>
</div>

<form method="POST" action="{{ url_for('reset_password_token', token=token) }}" class="auth-form" id="resetPasswordForm">
    <!-- New Password -->
    <div class="form-group" id="newPasswordGroup">
        <div class="input-wrapper">
            <span class="input-icon">ğŸ”’</span>
            <input 
                type="password" 
                id="new_password" 
                name="new_password" 
                class="form-input" 
                placeholder=" "
                autocomplete="new-password"
                required
            >
            <label class="floating-label" for="new_password">Nowe hasÅ‚o</label>
            <button type="button" class="password-toggle" id="toggleNewPassword">
                ğŸ‘ï¸
            </button>
        </div>
        {% if new_password_error %}
        <div class="error-message">{{ new_password_error }}</div>
        {% else %}
        <div class="error-message" style="display: none;"></div>
        {% endif %}
        <div class="password-requirements">
            <div class="requirement" id="req-length">
                <span class="req-icon">â—‹</span>
                <span class="req-text">Minimum 8 znakÃ³w</span>
            </div>
            <div class="requirement" id="req-uppercase">
                <span class="req-icon">â—‹</span>
                <span class="req-text">Jedna wielka litera</span>
            </div>
            <div class="requirement" id="req-lowercase">
                <span class="req-icon">â—‹</span>
                <span class="req-text">Jedna maÅ‚a litera</span>
            </div>
            <div class="requirement" id="req-number">
                <span class="req-icon">â—‹</span>
                <span class="req-text">Jedna cyfra</span>
            </div>
        </div>
    </div>

    <!-- Repeat Password -->
    <div class="form-group" id="repeatPasswordGroup">
        <div class="input-wrapper">
            <span class="input-icon">ğŸ”’</span>
            <input 
                type="password" 
                id="repeat_password" 
                name="repeat_password" 
                class="form-input" 
                placeholder=" "
                autocomplete="new-password"
                required
            >
            <label class="floating-label" for="repeat_password">PowtÃ³rz nowe hasÅ‚o</label>
            <button type="button" class="password-toggle" id="toggleRepeatPassword">
                ğŸ‘ï¸
            </button>
        </div>
        {% if repeat_password_error %}
        <div class="error-message">{{ repeat_password_error }}</div>
        {% else %}
        <div class="error-message" style="display: none;"></div>
        {% endif %}
    </div>

    <!-- Submit button -->
    <button type="submit" class="submit-button" id="submitButton" disabled>
        ZmieÅ„ hasÅ‚o
    </button>
</form>

<!-- Back to login link -->
<div class="auth-footer">
    <a href="{{ url_for('login') }}" class="footer-link">
        â† PowrÃ³t do logowania
    </a>
</div>
{% endblock %}